<!DOCTYPE html>
<html lang="en-us">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
	<link rel="stylesheet" href="game.css">
	<title>Wave Dash</title>
	<meta name="description" content="Ride the waves and dodge dangerous obstacles in Wave Dash! Perform epic tricks and dash the farthest as you race to become the ultimate wave master.">
	<style>
		.jss1:before {
			top: 0;
			width: 100%;
			filter: blur(16px);
			height: 100%;
			content: "";
			display: block;
			opacity: .5;
			z-index: 0;
			position: absolute;
			background-size: cover;
			background-image: url("https://1games.io/game/wave-dash/25051502/loading.png");
		}
	</style> 
	<script>
		var buildUrl = "";
		var versionFolder = "25051502/";
		buildUrl = "https://martinmmcyt.github.io/wave-dash/" + versionFolder + buildUrl;
		var loaderUrl = buildUrl + "/wave-dash-v25051502.loader.js";

		var config = {
			dataUrl: buildUrl + "/wave-dash-v25051502.data.unityweb",
			frameworkUrl: buildUrl + "/wave-dash-v25051502.framework.js.unityweb",
			codeUrl: buildUrl + "/wave-dash-v25051502.wasm.unityweb",
			streamingAssetsUrl: versionFolder + "StreamingAssets",
			companyName: "1games.io",
			productName: "Wave Dash",
			productVersion: "25051502",
			pubId: "",
			hostindex: 2,
			gameId: "wave-dash",
			eventLog: false,
			enableMoreGame: "yes",
			enablePromotion: true,
			gdHost: false
		};

		function isHostOnGD() {
			let domainParts = window.location.hostname.split('.');
			let mainDomain = domainParts.slice(-2).join('.');
			return (mainDomain === "gamedistribution.com");
		}

		function isDiffHost() {
			return false; // Disable redirect
		}

		config.gdHost = isHostOnGD();
		if (config.gdHost) {
			config.enableMoreGame = "yes";
			config.enablePromotion = true;
			config.eventLog = false;
			let pathSegments = window.location.pathname.split('/');
			config.gdGameId = pathSegments[1];
		}
	</script>
</head>

<body>
<div id="unity-container" style="display: none;">
	<canvas id="unity-canvas"></canvas> 
</div>
<div id="loadingBlock">
	<div class="jss31 jss34 jss1">
		<div style="position: absolute; font-family: Arial, Helvetica, sans-serif; bottom: 10px; right: 10px; font-size: 18px; color: #ffffff; opacity: 0.5;">25051502</div>
		<div class="spinner"></div>
		<div class="jss31 jss34 jss48" style="flex: 1 1 0%;">
			<div class="jss32">
				<div class="jss7 jss9 jss20 jss3">
					<div class="jss125">
						<div class="jss123">
							<img src="25051502/logo.png">
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="jss31 jss34" style="flex: 3 1 0%;">
			<div class="jss32">
				<div class="jss31 jss34 jss39 jss50 gameloader">
					<div class="jss32">
						<div class="gameloader-game-name">Wave Dash</div>
					</div>
					<div class="jss32">
						<div class="jss32 gameloader-logo">
							<img id="game-logo" src="https://1games.io/game/wave-dash/25051502/loading.png">
						</div>
					</div>
					<div class="jss32">
						<div>
							<div class="gameloader-progressbar">
								<div class="gameloader-progressbar-progress" id="progress_fill" style="width: 0%;"></div>
							</div>
							<div class="gameloader-progress-info">Game Loading...</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<script> 
	var progressElement = document.getElementById('progress_fill');
	var container = document.getElementById("unity-container");
	var canvas = document.getElementById("unity-canvas");
	var loadingBar = document.querySelector("#loadingBlock");
	var progress_text = document.querySelector(".gameloader-progress-info");

	var script = document.createElement("script");
	script.src = loaderUrl;
	script.onload = () => {
		createUnityInstance(canvas, config, (progress) => {
			progressElement.style.width = 100 * progress + "%";
			progress_text.innerText = "Downloading file: " + Math.round(progress * 100) + "%";
			if (progress >= 99) {
				progress_text.innerText = "Game Loading ...";
			}
		}).then((unityInstance) => {
			window.unityInstance = unityInstance;
			setTimeout(() => {
				loadingBar.style.display = "none";
				window.focus();
			}, 2000);
			container.style.display = "block";
		}).catch((message) => {
			alert(message);
		});
	};
	document.body.appendChild(script);
</script>
</body>
</html>
